---
# Xilinx XRT version to install
xilinx_xrt_version: 2019.1

# Install the AWS extension to XRT
xilinx_xrt_aws: false

# Internals variables
# -------------------

# No Xilinx repository, It is currently required to hardcode package names if
# not building from sources
# - This will not ensure the up to date version of the package is installed
# - This may become broken at any time
# If not as reliable, will need to build from source (But this will make install
# far longer, and require to polute machine with build requirements)
# Opened Github issue to see if providing packages repositories is possible:
# See: https://github.com/Xilinx/XRT/issues/1674
xilinx_xrt_packages:
  2019.1: 201910.2.2.2173
  2018.2: 201802.2.1.127
  2018.3: 201830.2.1.1794

# RHEL7/Centos7 packages use a fixed distribution version as suffix
rhel7_distribution_version: 7.4.1708

# Packages filenames
prefix_deb: "xrt_{{ xilinx_xrt_packages[xilinx_xrt_version] }}_\
             {{ ansible_distribution_version }}-"
prefix_rpm: "xrt_{{ xilinx_xrt_packages[xilinx_xrt_version] }}_\
             {{ rhel7_distribution_version }}-"

xrt_deb: "{{ prefix_deb }}xrt.deb"
xrt_rpm: "{{ prefix_rpm }}xrt.rpm"
xrt_package: "{{ (ansible_os_family == 'Debian') | ternary(xrt_deb, xrt_rpm) }}"

aws_deb: "{{ prefix_deb }}aws.deb"
aws_rpm: "{{ prefix_rpm }}aws.rpm"
aws_package: "{{ (ansible_os_family == 'Debian') | ternary(aws_deb, aws_rpm) }}"
